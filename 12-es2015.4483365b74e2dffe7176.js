(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{TUkU:function(e,t,n){"use strict";n.r(t),n.d(t,"Tab2PageModule",(function(){return y}));var o=n("TEn/"),c=n("ofXK"),i=n("3Pt+"),r=n("tyNb"),s=n("fXoL"),l=n("mrSG"),a=n("nslc");let b=(()=>{class e{constructor(e,t,n){this.navparams=e,this.modalcontroller=t,this.service=n,this.socket={}}closeModal(e=!1){try{try{this.modalcontroller.dismiss({dismissed:!0}).then(t=>{e&&this.service.setNewSocket(this.socket)},e=>{console.error(e)})}catch(t){console.error(t)}}catch(t){console.error(t)}}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(o.z),s.Kb(o.y),s.Kb(a.a))},e.\u0275cmp=s.Eb({type:e,selectors:[["app-createsocket"]],decls:21,vars:3,consts:[[1,"socket-creator"],["size","12",1,"header"],[3,"click"],["name","close"],["size","12"],["size","6"],["placeholder","URL",3,"ngModel","ngModelChange"],["size","3"],["placeholder","PORT",3,"ngModel","ngModelChange"],["placeholder","Controller ID",3,"ngModel","ngModelChange"],["size","12",2,"text-align","center"],["color","primary",3,"click"]],template:function(e,t){1&e&&(s.Ob(0,"ion-content",0),s.Ob(1,"ion-row"),s.Ob(2,"ion-col",1),s.Ob(3,"ion-label"),s.kc(4,"Add Socket"),s.Nb(),s.Ob(5,"ion-button",2),s.Vb("click",(function(){return t.closeModal()})),s.Lb(6,"ion-icon",3),s.Nb(),s.Nb(),s.Ob(7,"ion-col",4),s.Ob(8,"ion-row"),s.Ob(9,"ion-col",5),s.Ob(10,"ion-item"),s.Ob(11,"ion-input",6),s.Vb("ngModelChange",(function(e){return t.socket.websocketUrl=e})),s.Nb(),s.Nb(),s.Nb(),s.Ob(12,"ion-col",7),s.Ob(13,"ion-item"),s.Ob(14,"ion-input",8),s.Vb("ngModelChange",(function(e){return t.socket.websocketPort=e})),s.Nb(),s.Nb(),s.Nb(),s.Ob(15,"ion-col",7),s.Ob(16,"ion-item"),s.Ob(17,"ion-input",9),s.Vb("ngModelChange",(function(e){return t.socket.controllerId=e})),s.Nb(),s.Nb(),s.Nb(),s.Ob(18,"ion-col",10),s.Ob(19,"ion-button",11),s.Vb("click",(function(){return t.closeModal(!0)})),s.kc(20,"Add Socket"),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb()),2&e&&(s.Ab(11),s.cc("ngModel",t.socket.websocketUrl),s.Ab(3),s.cc("ngModel",t.socket.websocketPort),s.Ab(3),s.cc("ngModel",t.socket.controllerId))},directives:[o.d,o.p,o.c,o.m,o.b,o.h,o.l,o.k,o.B,i.d,i.e],styles:[".socket-creator[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:block;background:#00f;font-family:courier;padding:15px;color:#fff;font-size:20px}.socket-creator[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{position:relative;top:12px}.socket-creator[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{float:right}"]}),e})(),p=(()=>{class e{transform(e,t){return e.filter(e=>e.MasterControllerId==t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=s.Jb({name:"filter",type:e,pure:!0}),e})();var u=n("6NiB");let d=(()=>{class e{constructor(){this.profile={},this.itemClick=new s.n}image(e){try{let t=btoa(String.fromCharCode(...new Uint8Array(e))),n=t.split(",")[0];const o="data:image/png;base64";return n!=o?o+","+t:t}catch(t){console.error(t)}}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Eb({type:e,selectors:[["app-profile"]],inputs:{profile:"profile"},outputs:{itemClick:"itemClick"},decls:9,vars:3,consts:[["slot","start"],[3,"src"]],template:function(e,t){1&e&&(s.Ob(0,"ion-item"),s.Ob(1,"ion-thumbnail",0),s.Lb(2,"img",1),s.Nb(),s.Ob(3,"ion-label"),s.Ob(4,"h1"),s.kc(5),s.Nb(),s.Ob(6,"p"),s.kc(7),s.Nb(),s.Nb(),s.kc(8," {{profile|json}\n"),s.Nb()),2&e&&(s.Ab(2),s.cc("src",t.image(null==t.profile?null:t.profile.ImageData),s.gc),s.Ab(3),s.lc(null==t.profile?null:t.profile.UserName),s.Ab(2),s.mc("",null==t.profile?null:t.profile.UserId," "))},directives:[o.l,o.t,o.m],styles:[""]}),e})();function f(e,t){1&e&&s.Lb(0,"app-profile",4),2&e&&s.cc("profile",t.profile)}const g=function(e){return{profile:e}};function m(e,t){if(1&e&&s.Mb(0,5),2&e){const e=t.$implicit;s.Xb();const n=s.fc(1);s.cc("ngTemplateOutlet",n)("ngTemplateOutletContext",s.dc(2,g,e))}}let O=(()=>{class e{constructor(e,t){this.service=e,this.socketSer=t,this.profiles=[],this.list_header="Profiles",this.error={},this.connected={}}open(e){let t=`${e.websocketUrl}:${e.websocketPort}`,n=new WebSocket(t);n.onopen=()=>{this.connected={connected:"opened",socket:t,error:!1}},n.onmessage=e=>{this.profiles=[...this.profiles,e]}}createSocket(e){this.open(e)}ngOnChanges(e){e.hasOwnProperty("CosecDevice")&&e.CosecDevice.currentValue&&this.createSocket(e.CosecDevice.currentValue)}doInfinite(e){return console.log("Begin async operation"),new Promise(e=>{setTimeout(()=>{console.log("Async operation has ended"),e()},500)})}ionViewWillEnter(){}ngOnInit(){}ionViewWillLeave(){}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(a.a),s.Kb(u.b))},e.\u0275cmp=s.Eb({type:e,selectors:[["app-listing"]],viewQuery:function(e,t){var n;1&e&&s.nc(o.i,!0),2&e&&s.ec(n=s.Wb())&&(t.infiniteScroll=n.first)},inputs:{CosecDevice:"CosecDevice"},features:[s.zb([p]),s.yb],decls:10,vars:4,consts:[["Profile",""],["id","iframeDiv"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf"],[3,"ionInfinite"],[3,"profile"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(s.ic(0,f,1,1,"ng-template",null,0,s.jc),s.Ob(2,"div"),s.kc(3),s.Yb(4,"json"),s.Nb(),s.Ob(5,"ion-list"),s.Lb(6,"div",1),s.ic(7,m,1,4,"ng-container",2),s.Nb(),s.Ob(8,"ion-infinite-scroll",3),s.Vb("ionInfinite",(function(e){return t.doInfinite(e)})),s.Lb(9,"ion-infinite-scroll-content"),s.Nb()),2&e&&(s.Ab(3),s.mc(" ",s.Zb(4,2,t.connected),"\n"),s.Ab(4),s.cc("ngForOf",t.profiles))},directives:[o.n,c.i,o.i,o.j,d,c.j],pipes:[c.e],styles:[""]}),e})();function h(e,t){if(1&e&&(s.Ob(0,"ion-col",5),s.Lb(1,"app-listing",6),s.Nb()),2&e){const e=t.$implicit,n=s.Xb();s.cc("size",12/n.all_devices.length),s.Ab(1),s.cc("CosecDevice",e)}}let k=(()=>{class e{constructor(e,t){this.modalController=e,this.service=t,this.all_devices=[];try{this.service.addSocketListner.subscribe(e=>{this.all_devices=[...this.all_devices,e]})}catch(n){console.error(n)}}presentModal(){return Object(l.a)(this,void 0,void 0,(function*(){const e=yield this.modalController.create({component:b,cssClass:"my-custom-class"});return yield e.present()}))}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(o.y),s.Kb(a.a))},e.\u0275cmp=s.Eb({type:e,selectors:[["app-device-container"]],decls:6,vars:1,consts:[["vertical","bottom","horizontal","end","slot","fixed",1,"ion-fab-create"],["name","add",3,"click"],["size","12"],[2,"margin-top","40px"],[3,"size",4,"ngFor","ngForOf"],[3,"size"],[3,"CosecDevice"]],template:function(e,t){1&e&&(s.Ob(0,"ion-fab",0),s.Ob(1,"ion-fab-button"),s.Ob(2,"ion-icon",1),s.Vb("click",(function(){return t.presentModal()})),s.Nb(),s.Nb(),s.Nb(),s.Ob(3,"ion-col",2),s.Ob(4,"ion-row",3),s.ic(5,h,2,2,"ion-col",4),s.Nb(),s.Nb()),2&e&&(s.Ab(5),s.cc("ngForOf",t.all_devices))},directives:[o.e,o.f,o.h,o.c,o.p,c.i,O],styles:["ion-fab-button[_ngcontent-%COMP%]{position:relative;top:-60px}"]}),e})();const v=[{path:"",component:(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Eb({type:e,selectors:[["app-tab2"]],decls:6,vars:1,consts:[[3,"fullscreen"],["collapse","condense"],["size","large"]],template:function(e,t){1&e&&(s.Ob(0,"ion-content",0),s.Ob(1,"ion-header",1),s.Ob(2,"ion-toolbar"),s.Ob(3,"ion-title",2),s.kc(4,"List"),s.Nb(),s.Nb(),s.Nb(),s.Lb(5,"app-device-container"),s.Nb()),2&e&&s.cc("fullscreen",!0)},directives:[o.d,o.g,o.v,o.u,k],styles:[""]}),e})()}];let N=(()=>{class e{}return e.\u0275mod=s.Ib({type:e}),e.\u0275inj=s.Hb({factory:function(t){return new(t||e)},imports:[[r.i.forChild(v)],r.i]}),e})();var C=n("qtYk");let y=(()=>{class e{}return e.\u0275mod=s.Ib({type:e}),e.\u0275inj=s.Hb({factory:function(t){return new(t||e)},imports:[[o.w,c.b,i.a,C.a,N]]}),e})()}}]);